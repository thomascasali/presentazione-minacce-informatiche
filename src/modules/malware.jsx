import { motion } from 'framer-motion'
import { FiAlertTriangle, FiHardDrive, FiWifi, FiDownload, FiCpu, FiDatabase } from 'react-icons/fi'

const fadeUp = {
  hidden: { opacity: 0, y: 30 },
  visible: (i = 0) => ({
    opacity: 1,
    y: 0,
    transition: { delay: i * 0.15, duration: 0.5, ease: 'easeOut' },
  }),
}

const slides = [
  // Slide 1 - Cover Malware
  () => (
    <div className="slide slide-cover">
      <motion.div className="cover-icon" initial={{ scale: 0 }} animate={{ scale: 1 }} transition={{ type: 'spring', duration: 0.8 }}>
        ü¶†
      </motion.div>
      <motion.h1 className="slide-title gradient-purple" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.3 }}>
        Malware
      </motion.h1>
      <motion.p className="slide-text" initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 0.6 }}>
        Software malevolo: come funziona, come si diffonde e come il ransomware WannaCry ha paralizzato il mondo nel 2017.
      </motion.p>
    </div>
  ),

  // Slide 2 - Cos'√® il malware
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Malware</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          Cos'√® il Malware?
        </motion.h2>
        <motion.p className="slide-text" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          Il termine <strong>malware</strong> (da "malicious software") indica qualsiasi software progettato intenzionalmente per causare danni a un computer, server, rete o utente. √à il termine ombrello che comprende virus, worm, ransomware, spyware e molte altre minacce.
        </motion.p>
        <motion.div className="info-box danger" variants={fadeUp} initial="hidden" animate="visible" custom={3}>
          <div className="info-box-title"><FiAlertTriangle /> Attenzione</div>
          <div className="info-box-content">
            Un malware pu√≤ rimanere dormiente per settimane o mesi prima di attivarsi, rendendo difficile individuare il momento esatto dell'infezione.
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 3 - Tipi di malware
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Malware</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          Tipi di Malware
        </motion.h2>
        <motion.div variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          <table className="comparison-table">
            <thead>
              <tr>
                <th>Tipo</th>
                <th>Comportamento</th>
                <th>Esempio</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>ü¶† Virus</strong></td>
                <td>Si allega a file e si replica quando il file viene eseguito</td>
                <td>ILOVEYOU (2000)</td>
              </tr>
              <tr>
                <td><strong>üêõ Worm</strong></td>
                <td>Si auto-replica e si diffonde in rete senza intervento umano</td>
                <td>SQL Slammer (2003)</td>
              </tr>
              <tr>
                <td><strong>üîí Ransomware</strong></td>
                <td>Cifra i file e chiede un riscatto per restituirli</td>
                <td>WannaCry (2017)</td>
              </tr>
              <tr>
                <td><strong>üëÅÔ∏è Spyware</strong></td>
                <td>Monitora le attivit√† dell'utente di nascosto</td>
                <td>Pegasus (NSO Group)</td>
              </tr>
              <tr>
                <td><strong>üì¢ Adware</strong></td>
                <td>Mostra pubblicit√† indesiderata, raccoglie dati di navigazione</td>
                <td>Fireball (2017)</td>
              </tr>
              <tr>
                <td><strong>‚õèÔ∏è Cryptominer</strong></td>
                <td>Usa le risorse del computer per minare criptovalute</td>
                <td>CoinHive</td>
              </tr>
            </tbody>
          </table>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 4 - Come si diffonde
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Malware</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          Come si Diffonde il Malware
        </motion.h2>
        <motion.div className="slide-columns" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          <div className="info-box warning">
            <div className="info-box-title"><FiDownload /> Download</div>
            <div className="info-box-content">Software pirata, app da store non ufficiali, allegati email infetti, crack e keygen.</div>
          </div>
          <div className="info-box warning">
            <div className="info-box-title"><FiWifi /> Rete</div>
            <div className="info-box-content">Vulnerabilit√† di rete, Wi-Fi pubbliche non protette, protocolli non sicuri (SMB, RDP).</div>
          </div>
          <div className="info-box warning">
            <div className="info-box-title"><FiHardDrive /> Dispositivi</div>
            <div className="info-box-content">Chiavette USB infette, hard disk esterni, dispositivi IoT compromessi.</div>
          </div>
          <div className="info-box warning">
            <div className="info-box-title"><FiCpu /> Exploit</div>
            <div className="info-box-content">Vulnerabilit√† software (zero-day), siti web compromessi (drive-by download), malvertising.</div>
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 5 - WannaCry intro
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Caso Reale</motion.span>
        <motion.h2 className="slide-title gradient-purple" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          WannaCry: Il Ransomware che ha Fermato il Mondo
        </motion.h2>
        <motion.p className="slide-text" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          Il <strong>12 maggio 2017</strong>, WannaCry si √® diffuso in <strong>150 paesi</strong> in poche ore, colpendo oltre <strong>300.000 computer</strong> e causando danni stimati tra <strong>4 e 8 miliardi di dollari</strong>.
        </motion.p>
        <motion.div className="info-box danger" variants={fadeUp} initial="hidden" animate="visible" custom={3}>
          <div className="info-box-title">üîí La schermata di WannaCry</div>
          <div className="info-box-content" style={{ fontFamily: 'var(--font-mono)', textAlign: 'center', padding: '1rem' }}>
            <div style={{ color: '#ef4444', fontSize: '1.3rem', fontWeight: 'bold', marginBottom: '0.5rem' }}>
              Ooops, your files have been encrypted!
            </div>
            <div style={{ marginBottom: '0.5rem' }}>
              You can decrypt your files by paying $300 in Bitcoin.
            </div>
            <div style={{ color: '#f59e0b' }}>
              ‚è±Ô∏è Time Left: 2:23:45:07
            </div>
            <div style={{ fontSize: '0.8rem', marginTop: '0.5rem', color: '#94a3b8' }}>
              After the countdown, the price doubles to $600
            </div>
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 6 - WannaCry come funzionava
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Caso Reale</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          WannaCry: Come Funzionava
        </motion.h2>
        <motion.div className="attack-flow" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          {[
            { n: '1', title: 'Exploit EternalBlue', desc: 'Sfruttava una vulnerabilit√† nel protocollo SMBv1 di Windows, scoperta e rubata alla NSA dal gruppo Shadow Brokers' },
            { n: '2', title: 'Propagazione automatica', desc: 'Si diffondeva come un worm attraverso la rete locale e Internet, senza intervento dell\'utente' },
            { n: '3', title: 'Cifratura dei file', desc: 'Cifrava i file con estensioni comuni (.doc, .jpg, .pdf, .zip) usando AES-128 e RSA-2048' },
            { n: '4', title: 'Richiesta di riscatto', desc: 'Mostrava una schermata con timer e richiedeva $300 in Bitcoin, raddoppiando dopo 3 giorni' },
            { n: '5', title: 'Kill switch accidentale', desc: 'Il ricercatore Marcus Hutchins scopr√¨ un "kill switch": un dominio non registrato che, una volta attivato, blocc√≤ la diffusione' },
          ].map((step) => (
            <motion.div key={step.n} className="attack-step" whileHover={{ x: 8 }} transition={{ duration: 0.2 }}>
              <div className="step-number" style={{ background: 'var(--gradient-purple)' }}>{step.n}</div>
              <div className="step-content">
                <div className="step-title">{step.title}</div>
                <div className="step-desc">{step.desc}</div>
              </div>
            </motion.div>
          ))}
        </motion.div>
      </div>
    </div>
  ),

  // Slide 7 - WannaCry timeline
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Caso Reale</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          WannaCry: La Timeline
        </motion.h2>
        <motion.div className="timeline" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          <div className="timeline-item">
            <div className="timeline-date">14 marzo 2017</div>
            <div className="timeline-text">Microsoft rilascia la patch MS17-010 per la vulnerabilit√† EternalBlue.</div>
          </div>
          <div className="timeline-item">
            <div className="timeline-date">14 aprile 2017</div>
            <div className="timeline-text">Il gruppo Shadow Brokers pubblica l'exploit EternalBlue rubato alla NSA.</div>
          </div>
          <div className="timeline-item">
            <div className="timeline-date">12 maggio 2017 - Mattina</div>
            <div className="timeline-text">WannaCry inizia a diffondersi. Il sistema sanitario britannico (NHS) √® tra i primi colpiti.</div>
          </div>
          <div className="timeline-item">
            <div className="timeline-date">12 maggio 2017 - Pomeriggio</div>
            <div className="timeline-text">Marcus Hutchins (MalwareTech) registra il dominio kill switch, rallentando la diffusione.</div>
          </div>
          <div className="timeline-item">
            <div className="timeline-date">15 maggio 2017</div>
            <div className="timeline-text">Emergono varianti senza kill switch. La diffusione continua in Asia.</div>
          </div>
          <div className="timeline-item">
            <div className="timeline-date">Dicembre 2017</div>
            <div className="timeline-text">USA, UK e altri paesi attribuiscono ufficialmente WannaCry alla Corea del Nord (gruppo Lazarus).</div>
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 8 - WannaCry impatto
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Caso Reale</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          WannaCry: L'Impatto Globale
        </motion.h2>
        <motion.div className="stat-grid" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          <div className="stat-card">
            <div className="stat-number" style={{ background: 'var(--gradient-purple)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>150</div>
            <div className="stat-label">Paesi colpiti in tutto il mondo</div>
          </div>
          <div className="stat-card">
            <div className="stat-number" style={{ background: 'var(--gradient-purple)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>300K+</div>
            <div className="stat-label">Computer infettati</div>
          </div>
          <div className="stat-card">
            <div className="stat-number" style={{ background: 'var(--gradient-purple)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>$8 Mld</div>
            <div className="stat-label">Danni stimati in dollari</div>
          </div>
        </motion.div>
        <motion.div className="slide-columns" variants={fadeUp} initial="hidden" animate="visible" custom={3}>
          <div className="info-box danger">
            <div className="info-box-title">üè• Sanit√† (NHS - UK)</div>
            <div className="info-box-content">80 ospedali bloccati, ambulanze deviate, interventi chirurgici cancellati. Impatto diretto sulla vita dei pazienti.</div>
          </div>
          <div className="info-box danger">
            <div className="info-box-title">üè≠ Industria</div>
            <div className="info-box-content">Renault e Nissan fermano la produzione. Telef√≥nica (Spagna) e Deutsche Bahn (Germania) colpite duramente.</div>
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 9 - Lezione da WannaCry
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Malware</motion.span>
        <motion.h2 className="slide-title" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          La Lezione di WannaCry
        </motion.h2>
        <motion.p className="slide-text" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          WannaCry ha dimostrato l'importanza critica di tre fattori fondamentali nella sicurezza informatica:
        </motion.p>
        <motion.ul className="slide-list" variants={fadeUp} initial="hidden" animate="visible" custom={3}>
          <li>
            <span className="list-icon"><FiDownload /></span>
            <span><strong>Aggiornamenti tempestivi:</strong> La patch era disponibile da 2 mesi. Chi l'aveva installata era protetto.</span>
          </li>
          <li>
            <span className="list-icon"><FiDatabase /></span>
            <span><strong>Backup regolari:</strong> Chi aveva backup aggiornati ha recuperato i dati senza pagare il riscatto.</span>
          </li>
          <li>
            <span className="list-icon"><FiWifi /></span>
            <span><strong>Segmentazione di rete:</strong> Reti piatte hanno permesso al worm di diffondersi senza ostacoli.</span>
          </li>
          <li>
            <span className="list-icon"><FiCpu /></span>
            <span><strong>Disattivare protocolli obsoleti:</strong> SMBv1 era gi√† considerato insicuro e andava disabilitato.</span>
          </li>
        </motion.ul>
        <motion.div className="info-box success" variants={fadeUp} initial="hidden" animate="visible" custom={4}>
          <div className="info-box-title">üí° Morale</div>
          <div className="info-box-content">
            Non pagare mai il riscatto: solo il 4% di chi paga recupera effettivamente tutti i dati. Meglio prevenire con aggiornamenti e backup.
          </div>
        </motion.div>
      </div>
    </div>
  ),

  // Slide 10 - Riepilogo malware
  () => (
    <div className="slide">
      <div className="slide-inner">
        <motion.span className="slide-badge malware" variants={fadeUp} initial="hidden" animate="visible">Malware</motion.span>
        <motion.h2 className="slide-title gradient-purple" variants={fadeUp} initial="hidden" animate="visible" custom={1}>
          Riepilogo: Malware
        </motion.h2>
        <motion.div className="info-box danger" variants={fadeUp} initial="hidden" animate="visible" custom={2}>
          <div className="info-box-title">ü¶† Punti chiave da ricordare</div>
          <div className="info-box-content">
            <ul style={{ paddingLeft: '1rem', lineHeight: '2' }}>
              <li><strong>Malware</strong> = software creato per danneggiare (virus, worm, ransomware, spyware...)</li>
              <li>Si diffonde via download, rete, dispositivi USB e vulnerabilit√† software</li>
              <li><strong>WannaCry (2017)</strong> ha colpito 150 paesi sfruttando una vulnerabilit√† Windows nota</li>
              <li>La <strong>patch era disponibile da 2 mesi</strong> prima dell'attacco</li>
              <li><strong>Aggiornare il software</strong> √® la difesa pi√π semplice ed efficace</li>
              <li><strong>Non pagare mai</strong> i riscatti: finanzia i criminali e non garantisce il recupero dei dati</li>
            </ul>
          </div>
        </motion.div>
      </div>
    </div>
  ),
]

export default slides
